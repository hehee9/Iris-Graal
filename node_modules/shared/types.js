/**
 * @file node_modules/shared/types.js
 * @description 공용 타입 선언
 */


/**
 * @typedef {object} Author
 * @property {string} name 유저 이름
 * @property {string} userId 유저 id
 * @property {boolean} isBanned 차단된 유저 여부
 */
/**
 * @typedef {object} Room
 * @property {string} name 방 이름
 * @property {string} channelId 방 id
 * @property {boolean} isGroupChat 단체 채팅방 여부
 * @property {boolean} isOpenChat 오픈 채팅방 여부
 * @property {boolean} [_needsUpdate] 정보 확인/갱신 필요 여부
 */
/**
 * @typedef {object} Mention
 * @property {string} srcUserId 멘션 대상 유저 id
 * @property {number[]} at 메시지 내 멘션 순서, 1로 시작
 * @property {number} len 멘션 텍스트 덩어리의 길이
 */
/**
 * @typedef {object} Reply
 * @property {string} srcId 답장 대상 메시지 id
 * @property {string} srcUserId 답장 대상 유저 id
 * @property {string} srcType 답장 대상 메시지 타입
 */
/**
 * @typedef {object} Attachment
 * @property {string} type 사진/오디오/동영상/문서/...
 * @property {string} mime mime 타입
 * @property {string} url 첨부파일 url
 * @property {number} size 파일 크기 (byte)
 * @property {string} [name=Date.now()] 파일명
 */
/**
 * @typedef {object} Message
 * @property {Author} author 발신자 정보
 * @property {Room} room 방 정보
 * @property {string} content 전체 메시지 문자열
 * @property {string} id 메시지 id
 * @property {string} type 메시지 타입 번호, 정수형 문자열
 * @property {boolean} isMine 내가(봇이) 보낸 메시지인지 여부
 * @property {Reply|null} reply 답장 정보
 * @property {Mention[]} mention 멘션 정보
 * @property {Attachment[]} attachment 첨부파일 정보
 * @property {(text: string) => boolean} send 텍스트 응답 전송, 항상 true 반환
 * @property {(media: string|string[], timeoutMs?: number, fileName?: string) => boolean} sendMedia 파일 응답 전송, 항상 true 반환
 */
/**
 * @typedef {object} Feed
 * @property {number|string} feedType 피드 타입 (2:퇴장, 4:입장, 6:강퇴 등)
 * @property {string} [roomId] 방 ID
 * @property {object} [msg] 원본 메시지 객체
 * @property {object} [json] 파싱된 JSON 데이터
 * @property {object} [room] 방 정보
 * @property {string} [sender] 발신자 이름
 * @property {(text: string) => boolean} send 텍스트 응답 전송
 * @property {(media: string|string[], timeoutMs?: number, fileName?: string) => boolean} sendMedia 파일 응답 전송
 */